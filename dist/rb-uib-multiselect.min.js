/**
 * rb-uib-multiselect
 * @version v1.1.0
 * @link https://github.com/blessonrajan/rb-uib-multiselect
 * @license MIT
 */
"use strict";angular.module("rb-uib-multiselect",["ui.bootstrap"]),angular.module("rb-uib-multiselect").directive("rbUibMultiselect",function(){return{restrict:"AE",scope:{inputOptions:"=",outputOptions:"=",maxLabels:"@",buttonClass:"@",menuClass:"@",selectText:"@",selectAllText:"@",clearAllText:"@",showSelectAll:"@",itemLabel:"&",buttonLabel:"&"},templateUrl:"rb-uib-multiselect.html",link:function(e,t,l){e.reset=function(){e.options=[],e.outputOptions=[],e.selectAll=!1},e.reset(),e.setDefaults=function(){void 0===e.maxLabels&&(e.maxLabels=0),e._itemLabel=e.itemLabel(),void 0===e._itemLabel&&(e._itemLabel=function(e){return" "+e.label}),e._buttonLabel=e.buttonLabel(),void 0===e._buttonLabel&&(e._buttonLabel=function(){if(0===e.outputOptions.length)return e.selectText;if(e.maxLabels>0&&e.maxLabels<e.outputOptions.length)return"("+e.outputOptions.length+") Selected";var t=[];return angular.forEach(e.outputOptions,function(l){t.push(e._itemLabel(l))}),t.join(",")}),void 0===e.selectText&&(e.selectText="Select"),void 0===e.selectAllText&&(e.selectAllText=" Select All"),void 0===e.clearAllText&&(e.clearAllText=" Clear All"),"false"===e.showSelectAll?e._showSelectAll=!1:e._showSelectAll=!0},e.setDefaults(),e.prepareOptions=function(){e.reset(),angular.forEach(e.inputOptions,function(t){e.options.push({id:t.id,label:e._itemLabel(t),selected:t.selected||!1,source:t})}),e.updateOutput()},e.$watch("inputOptions",function(t){t&&e.prepareOptions()}),e.onItemClick=function(t,l){l.preventDefault(),t.selected=!t.selected,e.updateOutput()},e.onItemSelectionChange=function(){e.updateOutput()},e.onSelectAllClick=function(t){t.preventDefault(),e.selectAll=!e.selectAll,angular.forEach(e.options,function(t){t.selected=e.selectAll}),e.updateOutput()},e.updateOutput=function(){var t=[],l=!0;angular.forEach(e.options,function(e){e.selected===!0?t.push(e.source):l=!1}),e.selectAll=l,e.outputOptions=t}}}}),angular.module("rb-uib-multiselect").run(["$templateCache",function(e){var t='<div class="btn-group btn-block" uib-dropdown auto-close="outsideClick"><button type="button" class="btn btn-block" uib-dropdown-toggle ng-class="[buttonClass]">{{ _buttonLabel() }}</button><ul class="dropdown-menu" style="width: 100%;" uib-dropdown-menu role="menu" ng-class="[menuClass]"><li role="menuitem" ng-if="_showSelectAll && options.length > 0"><a href="#" ng-click="onSelectAllClick($event)">{{ selectAll ? clearAllText : selectAllText }}</a></li><li class="divider" ng-if="_showSelectAll && options.length > 0"></li><li role="menuitem" ng-repeat="o in options"><a href="#" ng-click="onItemClick(o, $event)"><input type="checkbox" ng-model="o.selected" ng-change="onItemSelectionChange()" ng-click="$event.stopPropagation()" tabindex="-1">{{ o.label }}</a></li></ul></div>';e.put("rb-uib-multiselect.html",t)}]);