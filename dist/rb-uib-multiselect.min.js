/*!
 * rb-uib-multiselect
 * @version v0.0.1
 * @link https://github.com/blessonrajan/rb-uib-multiselect
 * @license MIT
 */
"use strict";angular.module("rb-uib-multiselect",["ui.bootstrap"]),angular.module("rb-uib-multiselect").directive("rbUibMultiselect",function(){return{restrict:"AE",scope:{inputOptions:"=",outputOptions:"=",maxLabels:"@",buttonClass:"@",menuClass:"@",selectText:"@",selectAllText:"@",itemLabel:"&"},templateUrl:"rb-uib-multiselect.html",link:function(e,t,l){e.reset=function(){e.options=[],e.outputOptions=[],e.selectAll=!1},e.reset(),e.setDefaults=function(){void 0===e.maxLabels&&(e.maxLabels=e.options.length),e.label=e.itemLabel(),void 0===e.label&&(e.label=function(e){return" "+e.label}),void 0===e.selectText&&(e.selectText="Select"),void 0===e.selectAllText&&(e.selectAllText=" Select All")},e.setDefaults(),e.prepareOptions=function(){e.reset(),angular.forEach(e.inputOptions,function(t){e.options.push({id:t.id,label:e.label(t),selected:t.selected||!1,source:t})}),e.updateOutput()},e.$watch("inputOptions",function(t){t&&e.prepareOptions()}),e.onItemClick=function(t,l){l.preventDefault(),t.selected=!t.selected,e.updateOutput()},e.onItemSelectionChange=function(){e.updateOutput()},e.onSelectAllClick=function(t){t.preventDefault(),e.selectAll=!e.selectAll,e.onSelectAllChange()},e.onSelectAllChange=function(){angular.forEach(e.options,function(t){t.selected=e.selectAll}),e.updateOutput()},e.updateOutput=function(){var t=[];angular.forEach(e.options,function(e){e.selected===!0&&t.push(e.source)}),e.outputOptions=t},e.buttonLabel=function(){var t=[];if(angular.forEach(e.outputOptions,function(e){t.push(e.label)}),0===t.length)return e.selectText;var l=0,n=[];for(l=0;l<e.maxLabels&&l<t.length;l++)n.push(t[l]);return e.maxLabels<t.length?"("+t.length+") Selected":n.join(", ")}}}}),angular.module("rb-uib-multiselect").run(["$templateCache",function(e){var t='<div class="btn-group" uib-dropdown auto-close="outsideClick"><button type="button" class="btn" uib-dropdown-toggle ng-class="[buttonClass]">{{ buttonLabel() }}</button><ul class="dropdown-menu" uib-dropdown-menu role="menu" ng-class="[menuClass]"><li role="menuitem" ng-if="options.length > 0"><a href="#" ng-click="onSelectAllClick($event)"><input type="checkbox" ng-model="selectAll" ng-change="onSelectAllChange()" ng-click="$event.stopPropagation()">{{ selectAllText }}</a></li><li class="divider" ng-if="options.length > 0"></li><li role="menuitem" ng-repeat="o in options"><a href="#" ng-click="onItemClick(o, $event)"><input type="checkbox" ng-model="o.selected" ng-change="onItemSelectionChange()" ng-click="$event.stopPropagation()">{{ o.label }}</a></li></ul></div>';e.put("rb-uib-multiselect.html",t)}]);